{"version":3,"sources":["assets/js/timeago.js","assets/js/numbers-formatter.js","assets/js/scripts.js"],"names":["timeAgo","selector","templates","prefix","suffix","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","template","t","n","replace","Math","abs","round","timer","time","Date","now","getTime","elements","document","getElementsByClassName","i","$this","innerHTML","getAttribute","setTimeout","pow","floor","log","abbrev","precision","prec","format","base","min","indexOf","baseEndPoint","resultSize","currency","form","querySelector","resultsContainer","totalJobs","noResult","noResultQuery","displayJobs","jobs","total_num","urlSlug","title","split","filter","item","join","toLowerCase","textContent","html","map","job","job_title","id","salary_range_from","salary_range_to","job_location","xp_lvl","degree","job_type","company_logo","company_name","updated_at","classList","add","remove","query","value","fetchJobs","res","fetch","data","json","fetchAndDisplay","submit","disabled","handleSubmit","event","preventDefault","addEventListener"],"mappings":"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","file":"scripts.8f67027d.js","sourceRoot":"../src","sourcesContent":["/* eslint-disable */\nexport function timeAgo(selector) {\n  const templates = {\n    prefix: '',\n    suffix: ' ago',\n    seconds: '1 minute',\n    minute: '1 minute',\n    minutes: '%d minutes',\n    hour: '1 hour',\n    hours: '%d hours',\n    day: '1 day',\n    days: '%d days',\n    month: '1 month',\n    months: '%d months',\n    year: '1 year',\n    years: '%d years',\n  };\n  const template = function(t, n) {\n    return templates[t] && templates[t].replace(/%d/i, Math.abs(Math.round(n)));\n  };\n\n  const timer = function(time) {\n    if (!time) return;\n    time = time.replace(/\\.\\d+/, ''); // remove milliseconds\n    time = time.replace(/-/, '/').replace(/-/, '/');\n    time = time.replace(/T/, ' ').replace(/Z/, ' UTC');\n    time = time.replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/, ' $1$2'); // -04:00 -> -0400\n    time = new Date(time * 1000 || time);\n\n    const now = new Date();\n    const seconds = ((now.getTime() - time) * 0.001) >> 0;\n    const minutes = seconds / 60;\n    const hours = minutes / 60;\n    const days = hours / 24;\n    const years = days / 365;\n\n    return (\n      templates.prefix +\n      ((seconds < 45 && template('seconds', seconds)) ||\n        (seconds < 90 && template('minute', 1)) ||\n        (minutes < 45 && template('minutes', minutes)) ||\n        (minutes < 90 && template('hour', 1)) ||\n        (hours < 24 && template('hours', hours)) ||\n        (hours < 42 && template('day', 1)) ||\n        (days < 30 && template('days', days)) ||\n        (days < 45 && template('month', 1)) ||\n        (days < 365 && template('months', days / 30)) ||\n        (years < 1.5 && template('year', 1)) ||\n        template('years', years)) +\n      templates.suffix\n    );\n  };\n\n  const elements = document.getElementsByClassName('js-timeago');\n  for (const i in elements) {\n    const $this = elements[i];\n    if (typeof $this === 'object') {\n      $this.innerHTML = timer(\n        $this.getAttribute('title') || $this.getAttribute('datetime')\n      );\n    }\n  }\n  // update time every minute\n  setTimeout(timeAgo, 60000);\n}\n","/* eslint-disable */\n\nvar pow = Math.pow, floor = Math.floor, abs = Math.abs, log = Math.log;\nvar abbrev = 'kmb'; // could be an array of strings: [' m', ' Mo', ' Md']\n\nfunction round(n, precision) {\n    var prec = Math.pow(10, precision);\n    return Math.round(n*prec)/prec;\n}\n\nexport function format(n) {\n    var base = floor(log(abs(n))/log(1000));\n    var suffix = abbrev[Math.min(2, base - 1)];\n    base = abbrev.indexOf(suffix) + 1;\n    return suffix ? round(n/pow(1000,base),2)+suffix : ''+n;\n}\n","import { timeAgo } from './timeago.js';\nimport { format } from './numbers-formatter.js';\n\n// https://search.bossjob.com/api/v1/search/job_filter?size=10&query=system\n\nconst baseEndPoint = 'https://search.bossjob.com/api/v1/search/job_filter';\n// const localEndPoint = './../data.json';\nconst resultSize = 12;\nconst currency = 'â‚±';\nconst form = document.querySelector('.js-search');\nconst resultsContainer = document.querySelector('.js-results');\nconst totalJobs = document.querySelector('.js-totaljobs');\nconst noResult = document.querySelector('.js-noresult');\nconst noResultQuery = noResult.querySelector('.js-searchquery');\n\nfunction displayJobs(jobs) {\n  // console.log(jobs);\n  if (jobs.total_num !== 0) {\n    const urlSlug = title =>\n      title\n        .split(/\\W/)\n        .filter(item => item !== '')\n        .join('-')\n        .toLowerCase();\n\n    totalJobs.textContent = `${jobs.total_num} jobs found`;\n    const html = jobs.jobs.map(\n      job => `<a href=\"/${urlSlug(job.job_title)}-${\n        job.id\n      }\" class=\"block mt-5 pt-5 border-t\">\n        <div class=\"flex\">\n          <h2 class=\"font-medium\">${job.job_title}</h2>\n          <div class=\"ml-auto whitespace-no-wrap\">\n          ${currency}${format(job.salary_range_from)} - \n          ${currency}${format(job.salary_range_to)}\n          </div>\n        </div>\n        <ul class=\"flex sm:inline-flex flex-wrap text-sm\">\n          <li class=\"mt-2 sm:mr-3 w-1/2  sm:w-auto flex items-center\">\n            <svg\n              class=\"w-4 mr-2 fill-current text-blue-600\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                d=\"M5.64 16.36a9 9 0 1112.72 0l-5.65 5.66a1 1 0 01-1.42 0l-5.65-5.66zm11.31-1.41a7 7 0 10-9.9 0L12 19.9l4.95-4.95zM12 14a4 4 0 110-8 4 4 0 010 8zm0-2a2 2 0 100-4 2 2 0 000 4z\"\n              />\n            </svg>\n            ${job.job_location}\n          </li>\n          <li class=\"mt-2 sm:mr-3 w-1/2 sm:w-auto flex items-center\">\n            <svg\n              class=\"w-4 mr-2 fill-current text-blue-600\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                d=\"M8 7V5c0-1.1.9-2 2-2h4a2 2 0 012 2v2h4a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V9c0-1.1.9-2 2-2h4zm8 2H8v10h8V9zm2 0v10h2V9h-2zM6 9H4v10h2V9zm4-2h4V5h-4v2z\"\n              />\n            </svg>\n            ${job.xp_lvl}\n          </li>\n          <li class=\"mt-2 sm:mr-3 w-1/2 sm:w-auto flex items-center\">\n            <svg\n              class=\"w-4 mr-2 fill-currents stroke-current  text-blue-600\"\n              xmlns=\"http://wwws.w3.org/2000/svg\"\n              viewBox=\"0 0 512 512\"\n            >\n              <path\n                fill=\"none\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"40\"\n                d=\"M32 192L256 64l224 128-224 128L32 192z\"\n              />\n              <path\n                fill=\"none\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"40\"\n                d=\"M112 240v128l144 80 144-80V240M480 368V192M256 320v128\"\n              />\n            </svg>\n            ${job.degree}\n          </li>\n          <li class=\"mt-2 sm:mr-3 w-1/2 sm:w-auto flex items-center\">\n            <svg\n              class=\"w-4 mr-2 fill-current text-blue-600\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                d=\"M12 22a10 10 0 110-20 10 10 0 010 20zm0-2a8 8 0 100-16 8 8 0 000 16zm1-8.41l2.54 2.53a1 1 0 01-1.42 1.42L11.3 12.7a1 1 0 01-.3-.7V8a1 1 0 012 0v3.59z\"\n              />\n            </svg>\n            ${job.job_type}\n          </li>\n        </ul>\n        <div class=\"mt-4 flex items-center\">\n          <div class=\"flex items-center text-sm leading-tight\">\n            <img class=\"w-10 mr-2\" src=\"${job.company_logo}\" alt=\"${\n        job.company_name\n      }\" />\n            ${job.company_name}\n          </div>\n          <time class=\"js-timeago whitespace-no-wrap ml-auto text-right text-xs text-gray-500\" datetime=\"${\n            job.updated_at\n          }\">${job.updated_at}</time>\n        </div>\n      </a>\n      `\n    );\n    noResult.classList.add('hidden');\n    resultsContainer.innerHTML = html.join('');\n    timeAgo();\n  } else {\n    totalJobs.textContent = '';\n    resultsContainer.innerHTML = '';\n    noResult.classList.remove('hidden');\n    noResultQuery.textContent = form.query.value;\n  }\n}\n\nasync function fetchJobs(query) {\n  const res = await fetch(`${baseEndPoint}?size=${resultSize}&query=${query}`);\n  // const res = await fetch(`${localEndPoint}`);\n  const data = await res.json();\n  return data;\n}\n\nasync function fetchAndDisplay(query) {\n  resultsContainer.innerHTML = `<svg class=\"w-16 m-auto\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 128 128\"\n  >\n    <rect width=\"100%\" height=\"100%\" fill=\"#FFF\" />\n    <g>\n      <path\n        d=\"M75.4 126.63a11.43 11.43 0 01-2.1-22.65 40.9 40.9 0 0030.5-30.6 11.4 11.4 0 1122.27 4.87h.02a63.77 63.77 0 01-47.8 48.05v-.02a11.38 11.38 0 01-2.93.37z\"\n        fill=\"#2379ea\"\n      />\n      <animateTransform\n        attributeName=\"transform\"\n        type=\"rotate\"\n        from=\"0 64 64\"\n        to=\"360 64 64\"\n        dur=\"600ms\"\n        repeatCount=\"indefinite\"\n      />\n    </g>\n  </svg>`;\n  form.submit.disabled = true;\n  const jobs = await fetchJobs(query);\n  form.submit.disabled = false;\n  displayJobs(jobs.data);\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  fetchAndDisplay(form.query.value);\n}\n\nform.addEventListener('submit', handleSubmit);\nfetchAndDisplay('all');\n\ntimeAgo();\n"]}